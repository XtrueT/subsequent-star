---
import SectionItem from "./SectionItem.astro";
import ArticleItem from "./ArticleItem.astro";
import { getYearPosts } from "@assets/ts/utils";

const { page } = Astro.props;
const posts = getYearPosts(page.data);
---

<SectionItem title='文章归档'>
  <div class='flex flex-col justify-center items-center'>
    {
      posts.map(({ year, yearPosts }) => {
        return (
          <div class='flex flex-col w-full '>
            <div class='divide-y'>
              <div class='my-2'>
                <h1 class='text-3xl font-bold'>{year}</h1>
              </div>
              {yearPosts.map((post) => {
                return <ArticleItem post={post} />;
              })}
            </div>
          </div>
        );
      })
    }
  </div>
</SectionItem>
