---
import { pwaInfo } from 'virtual:pwa-info';
---

<link rel='apple-touch-icon' href='/apple-touch-icon-180x180.png' />
<link rel='mask-icon' href='/maskable-icon-512x512.png' color='#FFFFFF' />
<meta name='msapplication-TileColor' content='#FFFFFF' />
<meta name='theme-color' content='#FFFFFF' />
{pwaInfo && <Fragment set:html={pwaInfo.webManifest.linkTag} />}
<script>
  import { registerSW } from 'virtual:pwa-register';
  if ('serviceWorker' in navigator) {
    registerSW({
      immediate: true,
      onRegisteredSW(swScriptUrl) {
        console.log('SW registered: ', swScriptUrl);
      },
      onOfflineReady() {
        console.log('PWA application ready to work offline');
      }
    });
  }
</script>
