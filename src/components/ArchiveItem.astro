---
import FormattedDate from "@components/FormattedDate.astro";
import Tag from "./Tag.astro";

const { post } = Astro.props;
const { title, description, pubDate, author, heroImage, tags } = post.data;
const href = `/blog/${post.slug}/`;
---

<li class="flex flex-col items-start justify-start border-slate-500 border-dashed border-b-2 last:border-hidden">
  <div class="px-2">
    <span class="text-lg font-bold"><FormattedDate date={pubDate} /></span>
    <a href={href} class="text-lg font-bold">{title}</a>
  </div>

  <div class="flex justify-between items-center">
    {
      heroImage && (
        <a href={href} class="p-2 w-1/3">
          <figure id="heroImage" class="w-full h-full">
            <img src={heroImage} alt={title} loading="lazy" class="object-contain"/>
          </figure>
        </a>
      )
    }

    <div class="flex flex-col flex-grow">
      <p class="text-base p-2">
        {description ? description : post.body.substring(0, 150)}
      </p>
      <!-- <p>{author}</p> -->
      <div class="flex">
        {
          tags.map((tag) => (
            <a href={`/tags/${tag}`}>
              <Tag tag={tag} />
            </a>
          ))
        }
      </div>
    </div>
  </div>
</li>
