---
import FormattedDate from "@components/FormattedDate.astro";
import Tag from "./Tag.astro";

const { post } = Astro.props;
const { title, description, pubDate, author, heroImage, tags } = post.data;
const href = `/blog/${post.slug}/`;
---

<li class="flex flex-col items-start justify-start py-5">
  <div class="my-2">
    <h2 class="text-2xl font-bold"><FormattedDate date={pubDate} /></h2>
    <p>
      <a href={href} class="text-lg font-bold">{title}</a>
      {
        tags.map((tag) => (
          <a href={`/tags/${tag}`}>
            <Tag tag={tag} />
          </a>
        ))
      }
    </p>
  </div>

  <div class="flex justify-between items-center">
    {
      heroImage && (
        <a href={href} class="p-2 w-1/3">
          <figure id="heroImage" class="w-full h-full">
            <img
              src={heroImage}
              alt={title}
              loading="lazy"
              class="object-contain"
            />
          </figure>
        </a>
      )
    }

    <div class="flex flex-col">
      <p class="">
        {description ? description : post.body.substring(0, 150)}
      </p>
    </div>
  </div>
</li>
